gsap.registerPlugin(ScrollTrigger,ScrollToPlugin);let mm=gsap.matchMedia(),breakPoint=800;mm.add({isDesktop:`(min-width: ${breakPoint}px)`,isMobile:`(max-width: ${breakPoint-1}px)`,reduceMotion:"(prefers-reduced-motion: reduce)"},(context=>{let{isDesktop:isDesktop,isMobile:isMobile,reduceMotion:reduceMotion}=context.conditions;gsap.timeline().fromTo("#intro h1",{autoAlpha:0,yPercent:5},{autoAlpha:1,yPercent:0,duration:.7}).fromTo("#intro .stories",{autoAlpha:0,yPercent:5},{autoAlpha:1,yPercent:0,duration:.4},">-0.2").fromTo("#intro .date-highlight",{letterSpacing:30,scale:1.4,autoAlpha:0},{letterSpacing:2,scale:1,autoAlpha:1,autoRound:!1,duration:1},">0.1").fromTo("#steamboat",{yPercent:15,opacity:0},{yPercent:0,opacity:1,duration:.5,ease:"expo.out"},">"),gsap.timeline({scrollTrigger:{trigger:"#steamboat",start:"center center",end:"+=300",scrub:.5}}).to("#steamboat-video",{scale:3,opacity:.05,ease:"power2.in",duration:1});ScrollTrigger.create({trigger:"#steamboat",start:"center center",endTrigger:"body",end:"bottom top",pin:!0,pinSpacing:!1});let lheight=document.querySelector("#legacy").offsetHeight;gsap.utils.toArray("#legacy div").forEach((el=>{gsap.set(el,{top:`${isMobile?el.dataset.mobile:el.dataset.desktop}%`})}));const lazyLoadBatch=item=>{item.src&&item.src===item.dataset.src||(item.src=item.dataset.src)};gsap.utils.toArray("[data-speed]").forEach((el=>{ScrollTrigger.create({once:!0,trigger:el,start:"top 150%",end:"bottom top",onEnter:()=>lazyLoadBatch(el),onEnterBack:()=>lazyLoadBatch(el),group:"lazy"});gsap.to(el,{y:function(){return(1-parseFloat(el.getAttribute("data-speed")))*lheight*.1},ease:"none",scrollTrigger:{trigger:el,start:"top 120%",end:"bottom -20%",scrub:1}})})),ScrollTrigger.create({trigger:"#legacy",start:"top bottom",end:"bottom top",scrub:1,onUpdate:self=>{let color=gsap.utils.interpolate(["#000000","#020118","#030224","#010028","#170028","#1E0028","#170028","#010028","#030224","#020118","#383838"],self.progress);gsap.to("#landing",{backgroundColor:color,duration:1,ease:"power2.out"})}}),ScrollTrigger.create({trigger:"#pageContent",start:"top bottom"});gsap.to(".skip-intro",{autoAlpha:0,duration:.2,scrollTrigger:{trigger:"#closing",start:"top center",toggleActions:"play complete reverse reset"}});function scroll(time){gsap.set("#pageContent",{display:"block"}),ScrollTrigger.refresh(),gsap.to(window,{duration:time,scrollTo:"#pageContent",offsetY:1,delay:.1})}return document.querySelector(".btn-enter").addEventListener("click",(e=>{e.preventDefault(),scroll(.3)})),document.querySelector(".skip-intro").addEventListener("click",(e=>{e.preventDefault(),scroll(.3)})),()=>{}}));